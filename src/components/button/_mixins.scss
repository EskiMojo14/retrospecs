@use "sass:map";
@use "sass:meta";
@use "~/theme";
@use "~/theme/palette";
@use "~/util";
@use "./variables";

@mixin colors(
  $default-shades: variables.$default-shades,
  $shade-overrides: variables.$shade-overrides
) {
  @each $color in palette.$colors {
    &--#{$color} {
      @each $token in map.keys(map.get($default-shades, "light")) {
        --button-#{$token}-rgb: #{var(
            --#{$color}-#{util.get-shade-with-overrides(
                $default-shades,
                $shade-overrides,
                $color,
                "light",
                $token
              )}-rgb
          )};
      }
      @include theme.dark {
        @each $token in map.keys(map.get($default-shades, "dark")) {
          --button-#{$token}-rgb: #{var(
              --#{$color}-#{util.get-shade-with-overrides(
                  $default-shades,
                  $shade-overrides,
                  $color,
                  "dark",
                  $token
                )}-rgb
            )};
        }
      }
    }
  }
}
