@use "sass:map";
@use "sass:meta";

$default-state-opacities: (
  hovered: 0.15,
  focused: 0.25,
  pressed: 0.3,
);

@mixin states($state-opacities: ()) {
  @each $state,
    $opacity in map.merge($default-state-opacities, $state-opacities)
  {
    &[data-#{$state}] {
      --background-alpha: #{$opacity};
    }
  }
}

@mixin dark {
  [data-theme="dark"] &,
  &[data-theme="dark"] {
    @content;
  }
}

@mixin focus-ring {
  &[data-focus-visible] {
    outline: var(--outline-width) solid var(--focus-ring-color);
    outline-offset: var(--outline-width);
  }
}

@mixin outline(
  $border-radius: calc(var(--border-radius) - var(--outline-width))
) {
  &::before {
    content: "";
    position: absolute;
    top: var(--outline-width);
    left: var(--outline-width);
    right: var(--outline-width);
    bottom: var(--outline-width);
    border: var(--outline-width) solid var(--outline-color);
    --outline-border-radius: #{$border-radius};
    border-radius: var(--outline-border-radius);
    pointer-events: none;
  }
}
