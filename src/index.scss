@use "sass:list";
@use "sass:map";
@use "sass:math";
@use "~/util";
@use "~/theme/typography";
@use "~/theme/palette";
@use "~/theme";

@import "normalize.css";
@import url("https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200");

@font-face {
  font-family: "Super Dream";
  font-display: swap;
  src:
    local("Super Dream"),
    url("/assets/fonts/Super\ Dream.ttf") format("truetype");
}

@mixin color-var($name, $color) {
  --#{$name}-rgb: #{util.get-rgb($color)};
  --#{$name}: rgb(var(--#{$name}-rgb));
}

:root {
  --focus-ring-color: var(--blue-400);
  --outline-width: 2px;
  --border-radius: 8px;

  @each $color, $stops in palette.$palette {
    @each $stop, $value in $stops {
      @include color-var(#{$color}-#{$stop}, $value);
    }
  }

  @each $color, $value in palette.$standards {
    @include color-var(#{$color}, $value);
  }

  @each $emphasis, $opacity in typography.$emphasis-map {
    --typography-emphasis-#{$emphasis}: #{$opacity};
  }
  @each $prop, $value in typography.$defaults {
    --typography-default-#{$prop}: #{$value};
  }
  @each $style, $props in typography.$type-scale {
    @each $prop, $value in $props {
      --typography-#{$style}-#{$prop}: #{$value};
    }
  }
}

[data-theme="dark"] {
  --focus-ring-color: var(--blue-200);
}

* {
  box-sizing: border-box;
}

body {
  background-color: var(--white);
  color: var(--black);
  @each $prop, $value in typography.$defaults {
    #{$prop}: var(--typography-default-#{$prop});
  }
  @include theme.dark {
    background-color: var(--brown-900);
    color: var(--white);
  }
}
